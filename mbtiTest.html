<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>香腸愛好者性格測驗</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #f0f0f0;
        }
        .container {
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        .question {
            margin-bottom: 20px;
        }
        .choices button {
            margin: 5px;
        }
        .image-container img {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>香腸愛好者性格測驗</h1>
        <div id="test">
            <!-- Questions will be inserted here -->
        </div>
        <button id="next" onclick="nextQuestion()">下一題</button>
    </div>

    <script>
        const questions = [
            {
                question: "你喜歡制定詳細的計劃嗎？",
                choices: ["喜歡", "不喜歡"],
                category: "J" // Judging (反應態度)
            },
            {
                question: "你喜歡解決複雜的問題和挑戰嗎？",
                choices: ["喜歡", "不喜歡"],
                category: "N" // Intuition (思維模式)
            },
            {
                question: "你喜歡擔任領導角色並制定規則嗎？",
                choices: ["喜歡", "不喜歡"],
                category: "J" // Judging (反應態度)
            },
            {
                question: "你喜歡與人辯論並挑戰他們的觀點嗎？",
                choices: ["喜歡", "不喜歡"],
                category: "T" // Thinking (做決策的依據)
            },
            {
                question: "你認為自己是一個富有同情心並且願意幫助他人的人嗎？",
                choices: ["是", "否"],
                category: "F" // Feeling (做決策的依據)
            },
            {
                question: "你喜歡幻想和沉浸在自己的世界裡嗎？",
                choices: ["喜歡", "不喜歡"],
                category: "N" // Intuition (思維模式)
            },
            {
                question: "你喜歡激勵和影響他人嗎？",
                choices: ["喜歡", "不喜歡"],
                category: "E" // Extraversion (產生能量的方式)
            },
            {
                question: "你認為自己是一個充滿熱情和創意的人嗎？",
                choices: ["是", "否"],
                category: "N" // Intuition (思維模式)
            },
            {
                question: "你認為自己是一個注重細節並且有條理的人嗎？",
                choices: ["是", "否"],
                category: "S" // Sensing (思維模式)
            },
            {
                question: "你喜歡幫助他人並提供支持嗎？",
                choices: ["喜歡", "不喜歡"],
                category: "F" // Feeling (做決策的依據)
            },
            {
                question: "你喜歡負責並管理他人嗎？",
                choices: ["喜歡", "不喜歡"],
                category: "J" // Judging (反應態度)
            },
            {
                question: "你喜歡與他人互動並建立社交關係嗎？",
                choices: ["喜歡", "不喜歡"],
                category: "E" // Extraversion (產生能量的方式)
            },
            {
                question: "你喜歡實踐和動手操作嗎？",
                choices: ["喜歡", "不喜歡"],
                category: "S" // Sensing (思維模式)
            },
            {
                question: "你認為自己是一個熱愛藝術和自由的人嗎？",
                choices: ["是", "否"],
                category: "N" // Intuition (思維模式)
            },
            {
                question: "你喜歡冒險並接受挑戰嗎？",
                choices: ["喜歡", "不喜歡"],
                category: "P" // Perceiving (反應態度)
            },
            {
                question: "你認為自己是一個外向並充滿熱情的人嗎？",
                choices: ["是", "否"],
                category: "E" // Extraversion (產生能量的方式)
            }
        ];

        const images = {
            "INTJ": "images/01_INTJ.webp",
            "INTP": "images/02_INTP.webp",
            "ENTJ": "images/03_ENTJ.webp",
            "ENTP": "images/04_ENTP.webp",
            "INFJ": "images/05_INFJ.webp",
            "INFP": "images/06_INFP.webp",
            "ENFJ": "images/07_ENFJ.webp",
            "ENFP": "images/08_ENFP.webp",
            "ISTJ": "images/09_ISTJ.webp",
            "ISFJ": "images/10_ISFJ.webp",
            "ESTJ": "images/11_ESTJ.webp",
            "ESFJ": "images/12_ESFJ.webp",
            "ISTP": "images/13_ISTP.webp",
            "ISFP": "images/14_ISFP.webp",
            "ESTP": "images/15_ESTP.webp",
            "ESFP": "images/16_ESFP.webp"
        };

        let currentQuestion = 0;
        let scores = { E: 0, I: 0, S: 0, N: 0, T: 0, F: 0, J: 0, P: 0 };

        function renderQuestion() {
            if (currentQuestion >= questions.length) {
                showResult();
                return;
            }

            const question = questions[currentQuestion];
            document.getElementById('test').innerHTML = `
                <div class="question">${question.question}</div>
                <div class="choices">
                    ${question.choices.map((choice, index) => `<button onclick="answer(${index})">${choice}</button>`).join('')}
                </div>
            `;
        }

        function answer(choiceIndex) {
            const question = questions[currentQuestion];
            if (choiceIndex === 0) {
                scores[question.category]++;
            } else {
                const oppositeCategory = getOppositeCategory(question.category);
                scores[oppositeCategory]++;
            }

            currentQuestion++;
            renderQuestion();
        }

        function getOppositeCategory(category) {
            switch (category) {
                case 'E': return 'I';
                case 'I': return 'E';
                case 'S': return 'N';
                case 'N': return 'S';
                case 'T': return 'F';
                case 'F': return 'T';
                case 'J': return 'P';
                case 'P': return 'J';
            }
        }

        function showResult() {
            const mbti = (scores.E > scores.I ? 'E' : 'I') +
                         (scores.S > scores.N ? 'S' : 'N') +
                         (scores.T > scores.F ? 'T' : 'F') +
                         (scores.J > scores.P ? 'J' : 'P');
            
            const imageUrl = images[mbti];
            document.getElementById('test').innerHTML = `<h2>你的 MBTI 類型是：${mbti}</h2>
                                                         <div class="image-container"><img src="${imageUrl}" alt="${mbti} Image"></div>`;
            document.getElementById('next').style.display = 'none';
        }

        function nextQuestion() {
            renderQuestion();
        }

        // 開始測驗
        renderQuestion();
    </script>
</body>
</html>
